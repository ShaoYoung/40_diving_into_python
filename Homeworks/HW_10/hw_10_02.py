# –ó–∞–¥–∞–Ω–∏–µ 2
# üìå –í–æ–∑—å–º–∏—Ç–µ –ª—é–±—É—é –∑–∞–¥–∞—á—É –∏–∑ –ø—Ä–æ—à–ª—ã—Ö —Å–µ–º–∏–Ω–∞—Ä–æ–≤ (–Ω–∞–ø—Ä–∏–º–µ—Ä —Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö), –∫–æ—Ç–æ—Ä—É—é –≤—ã —É–∂–µ —Ä–µ—à–∞–ª–∏.
# –ü—Ä–µ–≤—Ä–∞—Ç–∏—Ç–µ —Ñ—É–Ω–∫—Ü–∏–∏ –≤ –º–µ—Ç–æ–¥—ã –∫–ª–∞—Å—Å–∞, –∞ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –≤ —Å–≤–æ–π—Å—Ç–≤–∞. –ó–∞–¥–∞—á–∞ –¥–æ–ª–∂–Ω–∞ —Ä–µ—à–∞—Ç—å—Å—è —á–µ—Ä–µ–∑ –≤—ã–∑–æ–≤ –º–µ—Ç–æ–¥–æ–≤ —ç–∫–∑–µ–º–ø–ª—è—Ä–∞.

# –ó–∞–º–µ—á–∞–Ω–∏—è –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª—è. –ú–æ–∂–Ω–æ –±—ã–ª–æ –µ—â–µ —Ä–∞–∑–¥—Ä–æ–±–∏—Ç—å —ç—Ç–æ—Ç –∫–æ–¥, —Å–æ–∑–¥–∞–≤ –∑–∞—â–∏—â–µ–Ω–Ω—ã–µ –∏–ª–∏ –ø—Ä–∏–≤–∞—Ç–Ω—ã–µ –º–µ—Ç–æ–¥—ã.

import os


class SortFiles:
    '''
    —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ —Ñ–∞–π–ª–æ–≤ –ø–æ –ø–∞–ø–∫–∞–º
    '''

    def __init__(self, **kwargs):
        '''
        –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä
        :param kwargs: –∏–º–µ–Ω–æ–≤–∞–Ω–Ω—ã–µ –∞—Ä–≥—É–º–µ–Ω—Ç—ã (–≤–æ–∑–º–æ–∂–Ω—ã–µ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è —Ñ–∞–π–ª–æ–≤)
        '''
        self.dict_ext_files = kwargs

    def sort_files(self, folder):
        '''
        —Å–æ—Ä—Ç–∏—Ä–æ–≤—â–∏–∫ —Ñ–∞–π–ª–æ–≤ –ø–æ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è–º–∏ —Ñ–∞–π–ª–æ–≤
        :param folder: –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è —Å —Ñ–∞–π–ª–∞–º–∏
        :return:
        '''
        # –µ—Å–ª–∏ –ø–µ—Ä–µ–¥–∞–Ω–Ω–∞—è –ø–∞–ø–∫–∞ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç
        if os.path.exists(folder):
            # –ø–µ—Ä–µ—Ö–æ–¥–∏–º –≤ –ø–∞–ø–∫—É
            os.chdir(folder)
            # print(f'{os.getcwd() = }')
            # —Å–æ–±–∏—Ä–∞–µ–º —Å–ø–∏—Å–æ–∫ (—Ç–æ–ª—å–∫–æ) —Ñ–∞–π–ª–æ–≤
            list_files = filter(lambda file_obj: os.path.isfile(file_obj), os.listdir(os.getcwd()))
            for file in list_files:
                _, ext = file.split('.')
                # print(ext)
                for sort_folder, av_ext in self.dict_ext_files.items():
                    # –µ—Å–ª–∏ –ø–∞–ø–∫–∞ –≤ folder –µ—â—ë –Ω–µ —Å–æ–∑–¥–∞–Ω–∞, —Å–æ–∑–¥–∞—ë–º
                    if not os.path.exists(sort_folder):
                        os.mkdir(sort_folder)
                    # –µ—Å–ª–∏ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ –≤ –ø–µ—Ä–µ—á–Ω–µ, —Ç–æ –ø–µ—Ä–µ–Ω–æ—Å–∏–º —Ñ–∞–π–ª –≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â—É—é –ø–∞–ø–∫—É –≤ folder
                    if ext in av_ext:
                        # –Ω–æ–≤–æ–µ –∏–º—è —Ñ–∞–π–ª–∞ –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ –ø–∞–ø–∫–∏ folder
                        dest = os.path.join(sort_folder, file)
                        # print(dest)
                        os.replace(file, dest)
        else:
            print(f'–ü–∞–ø–∫–∏ {folder} –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç!')


if __name__ == '__main__':
    dict_ext_folders = {
        'text': ('txt', 'html'),
        'img': ('jpg', 'bmp'),
    }
    sorter = SortFiles(**dict_ext_folders)
    folder = 'test_folder'
    sorter.sort_files(folder)
